package jsonusage;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;


public class jsonparserMain {
 		
	public static void main(String[] args) throws IOException, ParseException {
		
		String rootPath = System.getProperty("user.dir");
		
		BufferedReader br = new BufferedReader(
			new FileReader(rootPath+"/json/data2.json")
		);
		
		String data;
		
		StringBuilder sb = new StringBuilder();
		
		while((data=br.readLine())!= null) {
			sb.append(data);
		}
		
		data = sb.toString();
		System.out.println(sb.toString());
		sb.setLength(0);
		System.out.println(sb.toString());
		
		
		StringBuilder builder = new StringBuilder();
		
		JSONParser parser = new JSONParser();
		JSONArray jsonarray = (JSONArray)parser.parse(data);
		
		for(int i=0; i<jsonarray.size();i++) {
			JSONObject obj = (JSONObject)jsonarray.get(i);
			String content = (String)obj.get("content");
			System.out.println(content);
		}
		
		
	}
}
